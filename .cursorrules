# Cursor Rules

## File Modification Rules

### Protected Files
- **YH.txt**: This is a personal file used by the user. DO NOT modify, edit, or delete this file under any circumstances. DO NOT read this file.

## Git Workflow Rules

### DEV Branch Workflow
- **Always work on DEV branch**: Never create separate branches or work on other branches
- **Auto-push after completion**: When task is completed, ALWAYS push changes to origin/DEV
- **Push command**: `git push origin DEV`
- **Handle conflicts**: If push is rejected, pull with rebase first: `git pull --rebase origin DEV`

## Main UI Management Rules

### UI File Ownership
- **Main UI files are managed by the user**: The following files are managed by the user and should NOT be modified directly:
  - `ui/main_ui.ui` - Qt Designer UI file
  - `generated/main_ui.py` - Auto-generated UI code (regenerated from .ui file)
  
### UI Modification Workflow
- **When new buttons or widgets are needed**:
  1. **Request from user**: Ask the user to add the required button/widget to `ui/main_ui.ui` using Qt Designer
  2. **Wait for user**: Do NOT modify `ui/main_ui.ui` or `generated/main_ui.py` directly
  3. **After user adds widget**: Once the user has added the widget to the UI file and regenerated `main_ui.py`, connect the event handlers in `main.py`
  4. **Event connection only**: Only modify `main.py` to connect signals/slots (e.g., `button.clicked.connect(handler)`)
  
### Event Connection Pattern
- After user adds a widget, connect it in `main.py`:
  - In `setup_connections()` method for button clicks, combo box changes, etc.
  - Use `hasattr()` checks to ensure widget exists before connecting
  - Example: `if hasattr(self.ui, 'newButton_PB') and self.ui.newButton_PB: self.ui.newButton_PB.clicked.connect(self.handle_new_button)`

## General Guidelines
- Always respect protected files and directories
- When making changes, avoid touching personal configuration files
- Complete all work and push to DEV branch before finishing
