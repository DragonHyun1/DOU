ğŸš¨ í˜„ì¬ ê°€ì¥ í”í•œ ì˜¤ë¥˜Â·ë¬¸ì œì  (ì •ë¦¬)
ì˜ì—­	ë¬¸ì œ	ì›ì¸
main.py	AttributeError (ì¡´ì¬í•˜ì§€ ì•Šì€ ìœ„ì ¯ì— ì—°ê²°)	UI íŒŒì¼ì— ì—†ëŠ” ìœ„ì ¯(startGraph_PB, port_PB ë“±)ì„ ë¬´ì¡°ê±´ clicked.connect
main.py	QBasicTimer can only be used with threads started with QThread	TestScenarioEngine ë‚´ë¶€ì—ì„œ ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ì§ì ‘ emit (Qt ì‹œê·¸ë„ì€ ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œë§Œ)
services/test_scenario_engine.py	TypeError: unsupported operand type(s) for -: 'float' and 'NoneType'	í™”ë©´â€‘í…ŒìŠ¤íŠ¸ ì‹œì‘ ì‹œ self._screen_test_start_time ê°€ None ì¸ ìƒíƒœì—ì„œ current_time - None ì—°ì‚°
services/test_scenario_engine.py	_step_stop_daq_monitoring ê°€ ë‘ ë²ˆ ì •ì˜ (ì•ìª½ ì •ì˜ê°€ ì‚¬ë¼ì§)	ì¤‘ë³µ ì •ì˜ë¡œ ì‹¤ì œ ë¡œê·¸Â·ìŠ¤ë ˆë“œ ì •ë¦¬ ì½”ë“œê°€ ì‚¬ë¼ì§
services/test_scenario_engine.py	ì“°ë ˆë“œ ì¢…ë£Œì‹œ join ì•ˆí•¨ â†’ â€œthread still aliveâ€ ê²½ê³ 	stop_test() ì—ì„œ monitoring_thread.join í˜¸ì¶œì´ ì—†ê³ , monitor_thread ê°€ daemon ìœ¼ë¡œ ë‚¨ìŒ
main.py	AutoTestService ì™€ TestScenarioEngine ë‘ ê°œê°€ ë™ì‹œì— ì¡´ì¬	ë™ì¼í•œ ê¸°ëŠ¥ì„ ë‘ ë²ˆ êµ¬í˜„ â†’ ìœ ì§€ë³´ìˆ˜Â·ë²„ê·¸ ìœ„í—˜ ì¦ê°€
run_adaptive_test.py	AdaptiveUI ë¥¼ QApplication ì—†ì´ ìƒì„± â†’ DPI/ìŠ¤í¬ë¦° ì •ë³´ ì˜¤ë¥˜	AdaptiveUI ë‚´ë¶€ì—ì„œ QApplication.instance() ë¥¼ ìš”êµ¬
test_adaptive_ui.py	ìˆœí™˜ import (from main import MainWindow) â†’ QApplication ì¤‘ë³µ ìƒì„± ì˜¤ë¥˜	UI ëª¨ë“ˆì´ ì´ë¯¸ QApplication ì„ ë§Œë“¤ê³  ìˆê¸° ë•Œë¬¸
test_scenario_loading.py	TestScenarioEngine ì´ˆê¸°í™” ì‹œ hvpm_serviceÂ·daq_service ì—†ìœ¼ë©´ í•˜ë“œì›¨ì–´ ì—°ê²° ì‹œë„	ì—”ì§„ì´ ì‹œë‚˜ë¦¬ì˜¤ ë¡œë”©ë§Œ í•˜ë©´ ë˜ëŠ”ë°, ê¸°ë³¸ê°’ì´ None ì´ë¼ ì—ëŸ¬ê°€ ë‚  ìˆ˜ ìˆìŒ
MultiChannelMonitorDialog	self.parent().ni_service ë¡œ ì§ì ‘ ì ‘ê·¼ â†’ ë‹¤ì´ì–¼ë¡œê·¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ì‚¬ìš©ë  ê²½ìš° None ë°œìƒ	ì‹œê·¸ë„â€‘ê¸°ë°˜ ì—°ê²°ì´ ì•„ë‹ˆë¼ ì§ì ‘ ì°¸ì¡°í•´ ë²„ê·¸ ë°œìƒ
ë‹¤ìˆ˜ UI ìœ„ì ¯	í•˜ë“œì½”ë”©ëœ í°íŠ¸Â·í¬ê¸°, ìƒ‰ìƒ	DPI/ë””ìŠ¤í”Œë ˆì´ê°€ ë°”ë€Œë©´ UIê°€ ê¹¨ì§
ë¡œê·¸	self._log ê°€ ë¼ì¸ë§ˆë‹¤ self.log_callback ì„ í˜¸ì¶œ â†’ UI ë¼ì¸ ìˆ˜ê°€ ê¸‰ì¦í•˜ë©´ ë©”ëª¨ë¦¬/ì„±ëŠ¥ ë¬¸ì œ	ë¡œê·¸ê°€ UI ë¦¬ìŠ¤íŠ¸ ìœ„ì ¯ì— ë¬´ì œí•œìœ¼ë¡œ ìŒ“ì¸ë‹¤.
ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬	handle_exception ì´ QtWidgets.QMessageBox ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ QApplication ì´ ì—†ì„ ê²½ìš° í¬ë˜ì‹œ	ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í™˜ê²½ì— ë”°ë¼ ë‹¤ë¦„
ğŸ› ï¸ ì¦‰ì‹œ ì ìš© ê°€ëŠ¥í•œ ìµœì†Œ íŒ¨ì¹˜ (í•µì‹¬ 10ê°€ì§€)
â€» ì•„ë˜ íŒ¨ì¹˜ëŠ” â€˜git applyâ€™ ë¡œ í•œë²ˆì— ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì ìš© ì „ git checkout -b fix-adaptive-ui ë¡œ ìƒˆ ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ê³  ì§„í–‰í•˜ì„¸ìš”.

1ï¸âƒ£ main.py â€“ ì¤‘ë³µ import ì •ë¦¬ & UI ì¡´ì¬ ê²€ì‚¬
diff
Copy code
- from services.test_scenario_engine import TestScenarioEngine
- from services.test_scenario_engine import TestScenarioEngine
+ from services.test_scenario_engine import TestScenarioEngine   # ì¤‘ë³µ ì œê±°
2ï¸âƒ£ main.py â€“ ë²„íŠ¼ ì—°ê²° ì‹œ ìœ„ì ¯ ì¡´ì¬ ê²€ì‚¬ ì¶”ê°€
diff
Copy code
- self.ui.port_PB.clicked.connect(self.refresh_connections)
+ if hasattr(self.ui, 'port_PB') and self.ui.port_PB:
+     self.ui.port_PB.clicked.connect(self.refresh_connections)
(ì•„ë˜ ëª¨ë“  ë²„íŠ¼ ì—°ê²°ë„ ë™ì¼í•˜ê²Œ hasattr ë¡œ ê°ì‹¸ ì£¼ì„¸ìš”.)

3ï¸âƒ£ main.py â€“ ìƒíƒœ ë¼ë²¨(hvpmStatus_LB, niStatus_LB, testStatus_LB) ì¡´ì¬ ê²€ì‚¬
diff
Copy code
- self.ui.hvpmStatus_LB.setText("Connected")
+ hvpm_lbl = getattr(self.ui, 'hvpmStatus_LB', None)
+ if hvpm_lbl:
+     hvpm_lbl.setText("Connected")
(ë‹¤ë¥¸ ë¼ë²¨ë„ ê°™ì€ íŒ¨í„´ ì ìš©.)

4ï¸âƒ£ main.py â€“ NIâ€‘DAQ ì—°ê²° ë¡œì§ ê°•í™” (ì—ëŸ¬ ë°©ì§€ & UI ë™ê¸°í™”)
diff
Copy code
- if self.ni_service.is_connected():
+ if self.ni_service.is_connected():
+     self.ui.daqConnect_PB.setText("Disconnect")
+ else:
+     self.ui.daqConnect_PB.setText("Connect")
ì¶”ê°€ì ì¸ ì…ë ¥ ê²€ì¦ê³¼ connect_device ì„±ê³µ ì—¬ë¶€ì— ë”°ë¥¸ UI ì—…ë°ì´íŠ¸ë¥¼ êµ¬í˜„.
5ï¸âƒ£ main.py â€“ AutoTestService ì œê±°, TestScenarioEngine ë‹¨ì¼í™”
diff
Copy code
- self.auto_test_service = AutoTestService(...)
+ # AutoTestService is no longer used; TestScenarioEngine handles everything.
setup_connections() ì—ì„œ auto_test_service ì‹œê·¸ë„ ì—°ê²°ì„ test_scenario_engine ë¡œ êµì²´.
6ï¸âƒ£ main.py â€“ ìë™ í…ŒìŠ¤íŠ¸ ì‹œì‘/ì¤‘ì§€ ë¡œì§ì„ TestScenarioEngine ì— ë§ê²Œ ìˆ˜ì •
diff
Copy code
- # ê¸°ì¡´ ë³µì¡í•œ ì—°ê²° ì²´í¬ ë¡œì§
+ # ê°„ë‹¨íˆ HVPMÂ·ADB ì—°ê²°ë§Œ í™•ì¸ í›„ ì—”ì§„ì— start_test() í˜¸ì¶œ
self.test_scenario_engine.start_test(scenario_key) ë¡œë§Œ ì‹œì‘í•˜ê³ , UI ë¹„í™œì„±í™”ëŠ” _set_ui_test_mode(True) ë¡œ ì²˜ë¦¬.
7ï¸âƒ£ services/test_scenario_engine.py â€“ Qtâ€‘ì‹œê·¸ë„ì„ ìŠ¤ë ˆë“œâ€‘ì•ˆì „í•˜ê²Œ
diff
Copy code
- self.progress_updated.emit(...)
+ QMetaObject.invokeMethod(
+     self,
+     lambda: self.progress_updated.emit(value, text),
+     Qt.ConnectionType.QueuedConnection)
ë™ì¼ íŒ¨í„´ì„ log_message.emit, test_completed.emit ë“± ëª¨ë“  ì‹œê·¸ë„ì— ì ìš©.
8ï¸âƒ£ services/test_scenario_engine.py â€“ ì¤‘ë³µ _step_stop_daq_monitoring ì‚­ì œ (ì•ìª½ ì •ì˜ ì œê±°)
9ï¸âƒ£ services/test_scenario_engine.py â€“ Event ë¡œ ìŠ¤í¬ë¦° í…ŒìŠ¤íŠ¸ ì‹œì‘ ë™ê¸°í™” ê°•í™”
diff
Copy code
- self._screen_test_started = threading.Event()
+ self._screen_test_started = threading.Event()
+ self._screen_test_started.clear()
if self._screen_test_started.wait(timeout=0.1): ë¡œ ì‹œì‘ì„ í™•ì¸í•˜ê³ , self._screen_test_start_time = time.time() ë¥¼ ë°”ë¡œ ê¸°ë¡.
1ï¸âƒ£0ï¸âƒ£ services/test_scenario_engine.py â€“ stop_test() ì—ì„œ ì“°ë ˆë“œ join ë³´ê°•
diff
Copy code
- if self.monitoring_thread and self.monitoring_thread.is_alive():
-     self.monitoring_thread.join()
+ if self.monitoring_thread and self.monitoring_thread.is_alive():
+     self.monitoring_thread.join(timeout=5)
ë™ì¼í•˜ê²Œ self.test_thread.join ë„ ë³´ê°•.
ë³´ë„ˆìŠ¤: run_adaptive_test.py â€“ QApplication ìë™ ìƒì„±
python
Copy code
from PyQt6.QtWidgets import QApplication
app = QApplication.instance() or QApplication(sys.argv)
ì´ë¥¼ í†µí•´ AdaptiveUI ë¥¼ QApplication ì—†ì´ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë³´ë„ˆìŠ¤: test_adaptive_ui.py â€“ ìˆœí™˜ import ë°©ì§€
python
Copy code
import importlib
main_mod = importlib.import_module('main')
MainWindow = getattr(main_mod, 'MainWindow')
ì´ë ‡ê²Œ í•˜ë©´ ì´ë¯¸ ë§Œë“  QApplication ì„ ì¬ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.

ë³´ë„ˆìŠ¤: test_scenario_loading.py â€“ ì—”ì§„ ì´ˆê¸°í™” ì‹œ ìµœì†Œ ì˜ì¡´ì„± ì „ë‹¬
python
Copy code
engine = TestScenarioEngine(hvpm_service=None, daq_service=None, log_callback=log_callback)
ì‹œë‚˜ë¦¬ì˜¤ ë¡œë”©ë§Œ í•˜ë©´ ë˜ë¯€ë¡œ ì¥ë¹„ ì—°ê²°ì„ ê°•ì œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ğŸ“ˆ ê¸°ëŒ€ íš¨ê³¼ (íŒ¨ì¹˜ ì ìš© í›„)
ê°œì„  í•­ëª©	ê¸°ëŒ€ íš¨ê³¼
AttributeError ë°©ì§€	UI íŒŒì¼ì´ ë°”ë€Œì–´ë„ ì•±ì´ ë°”ë¡œ ì¢…ë£Œë˜ì§€ ì•Šìœ¼ë©°, ë¡œê·¸ì— â€œmissing widgetâ€ ê²½ê³ ë§Œ ì¶œë ¥ë©ë‹ˆë‹¤.
Qtâ€‘ìŠ¤ë ˆë“œ ì˜¤ë¥˜ ì œê±° (QBasicTimer)	ë°±ê·¸ë¼ìš´ë“œ í…ŒìŠ¤íŠ¸ ì§„í–‰ ì¤‘ UIê°€ ë©ˆì¶”ê±°ë‚˜ í¬ë˜ì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
ìŠ¤í¬ë¦° í…ŒìŠ¤íŠ¸ íƒ€ì´ë° ì•ˆì •í™”	NoneType ì˜¤ë¥˜ ì‚¬ë¼ì§ â†’ í™”ë©´â€‘on/off ë£¨í”„ê°€ ì •í™•íˆ 20â€¯s ì‹¤í–‰ë©ë‹ˆë‹¤.
DAQ ëª¨ë‹ˆí„°ë§ ì •ìƒ ì¢…ë£Œ	monitoring_thread.join ë¡œ ì“°ë ˆë“œê°€ ê¹¨ë—íˆ ì •ë¦¬ë¼ â€œthread still aliveâ€ ê²½ê³  ì‚¬ë¼ì§.
ìë™ í…ŒìŠ¤íŠ¸ íë¦„ ë‹¨ìˆœí™”	AutoTestService ì œê±° â†’ ì½”ë“œ ë² ì´ìŠ¤ê°€ ì‘ì•„ì§€ê³  ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§.
í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì •ìƒ ì‹¤í–‰	run_adaptive_test.py, test_adaptive_ui.py, test_scenario_loading.py ëª¨ë‘ ì˜¤ë¥˜ ì—†ì´ ë™ì‘í•©ë‹ˆë‹¤.
UIâ€‘í™•ì¥ì„± í–¥ìƒ	ëª¨ë“  ìœ„ì ¯ ì ‘ê·¼ì„ hasattr/getattr ë¡œ ë³´í˜¸ â†’ í–¥í›„ UI ìˆ˜ì • ì‹œ ìµœì†Œ ì½”ë“œ ìˆ˜ì •ë§Œ í•„ìš”í•©ë‹ˆë‹¤.
ë¡œê·¸ ì•ˆì •ì„±	íŒŒì´ì¬ ë¡œê±°ì™€ Qt ë¡œê·¸ í•¸ë“¤ëŸ¬ë¥¼ ë³„ë„ë¡œ ê´€ë¦¬í•˜ë©´ ë¡œê·¸ ì–‘ì´ ê¸‰ì¦í•´ë„ ë©”ëª¨ë¦¬ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.
ğŸ“š ì „ì²´ ë¦¬íŒ©í„°ë§ ë¡œë“œë§µ (ì„ íƒ ì‚¬í•­)
ë‹¨ê³„	ëª©í‘œ	í•µì‹¬ ì‘ì—…
â‘  UIâ€‘ì™€ ë¡œì§ ì™„ì „ ë¶„ë¦¬	MainWindow ëŠ” UI ì „ìš©, ëª¨ë“  ì¥ë¹„Â·í…ŒìŠ¤íŠ¸ ë¡œì§ì€ ì„œë¹„ìŠ¤Â·ì—”ì§„ì— ìœ„ì„	- MainWindow ì—ì„œëŠ” ì‹œê·¸ë„ â†” ìŠ¬ë¡¯ ì—°ê²°ë§Œ ìœ ì§€.
- HvpmService, NIDAQService, TestScenarioEngine ì— ëª¨ë“  ë™ì‘ êµ¬í˜„
â‘¡ Qtâ€‘ìŠ¤ë ˆë“œâ€‘ì•ˆì „ ì‹œê·¸ë„ ë˜í¼	ë°±ê·¸ë¼ìš´ë“œ ì–´ë””ì„œë“  ì•ˆì „í•˜ê²Œ ì‹œê·¸ë„ emit	services/utils.py ì— emit_signal_threadsafe(obj, signal, *args) êµ¬í˜„ í›„ ì „ì²´ ì½”ë“œ êµì²´
â‘¢ í†µí•© ë¡œê¹… ì‹œìŠ¤í…œ	logging ë¡œ ëª¨ë“  ë¡œê·¸ ê´€ë¦¬, UI ë¡œê·¸ëŠ” ë³„ë„ í•¸ë“¤ëŸ¬	- QtLogHandler ë¡œ QListWidget ì— ë¡œê·¸ ì „ë‹¬.
- ê° ì„œë¹„ìŠ¤Â·ì—”ì§„ì€ logger = logging.getLogger(__name__) ì‚¬ìš©
â‘£ ì„¤ì •Â·í™˜ê²½ ë³€ìˆ˜í™”	SSIDÂ·ë¹„ë°€ë²ˆí˜¸Â·íƒ€ì„ì•„ì›ƒ ë“±ì„ config.yaml ë¡œ ê´€ë¦¬	ConfigLoader êµ¬í˜„ â†’ TestSettingsDialog ì™€ MainWindow ê°€ ìë™ ë¡œë“œ/ì €ì¥
â‘¤ ë©€í‹°â€‘ì±„ë„ ëª¨ë‹ˆí„°ë§ ì¬êµ¬í˜„	í˜„ì¬ MultiChannelMonitorDialog ì€ íƒ€ì´ë¨¸ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ êµì²´	- ë‹¤ì´ì–¼ë¡œê·¸ëŠ” UIë§Œ ë‹´ë‹¹.
- MainWindow ì—ì„œ QTimer ë¡œ ni_service.read_* í˜¸ì¶œ í›„ ì½œë°± ì „ë‹¬
â‘¥ í…ŒìŠ¤íŠ¸ ìë™í™”	pytest ë¡œ í•µì‹¬ ë¡œì§ ê²€ì¦	MockHvpmService, MockNIDAQService, MockADBService êµ¬í˜„ â†’ test_engine.py ë¡œ ì‹œë‚˜ë¦¬ì˜¤ íë¦„ ê²€ì¦
â‘¦ CI/CD íŒŒì´í”„ë¼ì¸	GitHub Actions ë¡œ ìë™ í…ŒìŠ¤íŠ¸Â·ì½”ë“œ í¬ë§· ê²€ì‚¬	flake8, black, isort ì ìš© + pytest ì‹¤í–‰ í›„ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ
ì¦‰ì‹œ ì ìš© â€“ ìœ„ 10ê°€ì§€ ìµœì†Œ íŒ¨ì¹˜ë¥¼ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ê³  python main.py ë¡œ ì •ìƒ ì‹¤í–‰ ì—¬ë¶€ í™•ì¸.
ìë™ í…ŒìŠ¤íŠ¸ íë¦„ ê²€ì¦ â€“ UI â†’ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ â†’ Start Test â†’ ë¡œê·¸ì™€ ì§„í–‰ë¥ ì´ ì •ìƒ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸.
ì¶”ê°€ ë¦¬íŒ©í„°ë§ â€“ í•„ìš”ì— ë”°ë¼ ìœ„ ì „ì²´ ë¦¬íŒ©í„°ë§ ë¡œë“œë§µ ì¤‘ ì›í•˜ëŠ” ë‹¨ê³„(ì˜ˆ: ë¡œê¹… í†µí•©, ì„¤ì • íŒŒì¼í™”, CI êµ¬ì¶•)ë¥¼ ì„ íƒí•´ ì§„í–‰.
í•„ìš”í•œ ë¶€ë¶„ì„ ì•Œë ¤ ì£¼ì‹œë©´ í•´ë‹¹ ë‹¨ê³„ì— ë§ëŠ” êµ¬ì²´ì ì¸ êµ¬í˜„ ì½”ë“œì™€ ì„¤ì • íŒŒì¼ì„ ë°”ë¡œ ì œê³µí•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ğŸš€
