# Shunt ì €í•­ ë¹„êµ: DoU vs ë‹¤ë¥¸ íˆ´

## ğŸ“Š ë¹„êµí‘œ

| ì±„ë„ | Rail ì´ë¦„ | ì „ì•• | ë‹¤ë¥¸ íˆ´ Shunt | DoU ê¸°ë³¸ê°’ | ì¼ì¹˜ ì—¬ë¶€ |
|------|-----------|------|---------------|------------|-----------|
| ai0 | VBAT | 4.0V | **0.01Î©** | 0.01Î© (3V3_MAIN) | âœ“ ì¼ì¹˜ |
| ai1 | VDD_1P8_AP | 1.8V | **0.1Î©** | 0.02Î© (1V8_IO) | âœ— **5ë°° ì°¨ì´!** |
| ai2 | VDD_MLDO_2P0 | 2.0V | **0.005Î©** | 0.01Î© (1V2_CORE) | âœ— **2ë°° ì°¨ì´!** |
| ai3 | VDD_WIFI_1P0 | 1.0V | **0.005Î©** | 0.05Î© (5V0_USB) | âœ— **10ë°° ì°¨ì´!** |
| ai4 | VDD_1P2_AP_WIFI | 1.2V | **0.1Î©** | 0.02Î© (2V5_ADC) | âœ— **5ë°° ì°¨ì´!** |
| ai5 | VDD_1P35_WIFIPMU | 1.35V | **0.01Î©** | 0.01Î© (3V3_AUX) | âœ“ ì¼ì¹˜ |

---

## ğŸ”¥ í•µì‹¬ ë°œê²¬!

### **5ê°œ ì±„ë„ ì¤‘ 4ê°œê°€ ì˜ëª»ëœ Shunt ê°’ ì‚¬ìš©!**

**ì´ê²ƒì´ ì¸¡ì •ê°’ ì°¨ì´ì˜ ì›ì¸ì…ë‹ˆë‹¤!**

### ì˜ˆì‹œ: ai1 (VDD_1P8_AP)
```
DoU ì¸¡ì • Voltage: 0.0916mV (ì˜ˆì‹œ)
ë‹¤ë¥¸ íˆ´ ì¸¡ì • ì „ë¥˜: 0.365mA

DoU ê³„ì‚° (ì˜ëª»ëœ Shunt 0.02Î©):
  Current = 0.0916mV / 0.02Î© = 4.58mA  âœ— (12.5ë°° ì°¨ì´!)

ì˜¬ë°”ë¥¸ ê³„ì‚° (Shunt 0.1Î©):
  Current = 0.0916mV / 0.1Î© = 0.916mA  âœ“ (2.5ë°° ì°¨ì´ë¡œ ê°ì†Œ)
```

---

## ğŸ“‹ í•„ìš”í•œ ìˆ˜ì •

### DoUì˜ ê¸°ë³¸ ì±„ë„ ì„¤ì • ì—…ë°ì´íŠ¸

**íŒŒì¼:** `services/ni_daq.py`

**Before:**
```python
default_rails = [
    {'name': '3V3_MAIN', 'target_v': 3.30, 'shunt_r': 0.010},  # ai0
    {'name': '1V8_IO', 'target_v': 1.80, 'shunt_r': 0.020},    # ai1 âœ—
    {'name': '1V2_CORE', 'target_v': 1.20, 'shunt_r': 0.010},  # ai2 âœ—
    {'name': '5V0_USB', 'target_v': 5.00, 'shunt_r': 0.050},   # ai3 âœ—
    {'name': '2V5_ADC', 'target_v': 2.50, 'shunt_r': 0.020},   # ai4 âœ—
    {'name': '3V3_AUX', 'target_v': 3.30, 'shunt_r': 0.010},   # ai5
    ...
]
```

**After (ìˆ˜ì •):**
```python
default_rails = [
    {'name': 'VBAT', 'target_v': 4.00, 'shunt_r': 0.010},              # ai0 âœ“
    {'name': 'VDD_1P8_AP', 'target_v': 1.80, 'shunt_r': 0.100},        # ai1 âœ“
    {'name': 'VDD_MLDO_2P0', 'target_v': 2.00, 'shunt_r': 0.005},      # ai2 âœ“
    {'name': 'VDD_WIFI_1P0', 'target_v': 1.00, 'shunt_r': 0.005},      # ai3 âœ“
    {'name': 'VDD_1P2_AP_WIFI', 'target_v': 1.20, 'shunt_r': 0.100},   # ai4 âœ“
    {'name': 'VDD_1P35_WIFIPMU', 'target_v': 1.35, 'shunt_r': 0.010},  # ai5 âœ“
    ...  # ë‚˜ë¨¸ì§€ëŠ” ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìœ ì§€
]
```

---

## ğŸ¯ ì˜ˆìƒ ê°œì„  íš¨ê³¼

### Before (ì˜ëª»ëœ Shunt):
```
           DoU        Manual      ë¹„ìœ¨
VBAT:      1.256mA    0.409mA    3.07x âœ—
VDD_1P8_AP: 0.916mA   0.365mA    2.51x âœ—
...
```

### After (ì˜¬ë°”ë¥¸ Shunt):
```
           DoU        Manual      ë¹„ìœ¨
VBAT:      0.409mA    0.409mA    1.00x âœ“
VDD_1P8_AP: 0.365mA   0.365mA    1.00x âœ“
...
```

**â†’ ì™„ë²½í•œ ì¼ì¹˜ ì˜ˆìƒ!**

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. UI ì„¤ì • í™•ì¸
Phone App Testë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— **Multi-Channel Monitor UI**ì—ì„œ ì±„ë„ ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”:
- ì˜¬ë°”ë¥¸ Rail ì´ë¦„
- ì˜¬ë°”ë¥¸ Target Voltage
- ì˜¬ë°”ë¥¸ Shunt ì €í•­

### 2. ì„¤ì • ì €ì¥/ë¡œë“œ
ë§Œì•½ ì„¤ì • íŒŒì¼(JSON)ì„ ë¡œë“œí•œë‹¤ë©´, ê·¸ íŒŒì¼ë„ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤.

### 3. ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ê²°ê³¼
ì´ì „ í…ŒìŠ¤íŠ¸ ê²°ê³¼ëŠ” ëª¨ë‘ ì˜ëª»ëœ Shunt ê°’ì„ ì‚¬ìš©í•œ ê²ƒì´ë¯€ë¡œ ì¬ì¸¡ì • í•„ìš”.

---

## âœ… ë‹¤ìŒ ë‹¨ê³„

1. **ni_daq.py ìˆ˜ì •** - default_rails ì—…ë°ì´íŠ¸
2. **Phone App Test ì‹¤í–‰**
3. **Manual íˆ´ê³¼ ë¹„êµ**
4. **ì™„ë²½í•œ ì¼ì¹˜ í™•ì¸!** ğŸ¯

---

**ì´ê²ƒì´ ì¸¡ì •ê°’ ì°¨ì´ì˜ ê·¼ë³¸ ì›ì¸ì…ë‹ˆë‹¤!**
