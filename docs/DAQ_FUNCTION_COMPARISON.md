# DAQ Function ë¹„êµ ë¶„ì„

## ğŸ“‹ ê°œìš”

ì‚¬ìš©ìê°€ ì œê³µí•œ `DAQReadNChanNSamp1DWfm` í•¨ìˆ˜ì™€ í˜„ì¬ êµ¬í˜„(`read_current_channels_hardware_timed`)ì„ ë¹„êµ ë¶„ì„í•©ë‹ˆë‹¤.

## ğŸ” ì£¼ìš” ì°¨ì´ì 

### 1. **ì œê³µëœ ì½”ë“œ (DAQReadNChanNSamp1DWfm)**

```python
# ìƒ˜í”Œë§ ì£¼ê¸°: 0.000033ì´ˆ = 33Î¼s
sample_frequency = 1.0 / 0.000033  # â‰ˆ 30.3kHz
samples_per_channel = int(sample_frequency * timeout)  # 30,300 * 10 = 303,000

# íŠ¹ì§•:
- ì±„ë„ ìˆ˜: 60ê°œ (ai0 ~ ai59)
- Voltage Range: Â±100mV (DIFFERENTIAL)
- ì••ì¶• ì—†ìŒ: Raw ë°ì´í„° ê·¸ëŒ€ë¡œ ì €ì¥
- ìƒ˜í”Œë§: 30.3kHz
- ì´ ìƒ˜í”Œ: 303,000ê°œ (10ì´ˆ)
```

### 2. **í˜„ì¬ êµ¬í˜„ (read_current_channels_hardware_timed)**

```python
# ìƒ˜í”Œë§: 100kHz, ì••ì¶•: 100:1
sample_rate = 100000.0  # 100kHz
compress_ratio = 100    # 100:1
total_samples = 1,000,000  # 1M raw
compressed_samples = 10,000  # 10k after compression

# íŠ¹ì§•:
- ì±„ë„ ìˆ˜: 6ê°œ (ai0 ~ ai5)
- Voltage Range: Â±100mV (DIFF ëª¨ë“œ)
- ì••ì¶• ìˆìŒ: 100ê°œ í‰ê·  â†’ 1ê°œ
- ìƒ˜í”Œë§: 100kHz
- ìµœì¢… ìƒ˜í”Œ: 10,000ê°œ (1msë§ˆë‹¤ 1ê°œ)
```

## ğŸ“Š ë¹„êµí‘œ

| í•­ëª© | DAQReadNChanNSamp1DWfm | read_current_channels_hardware_timed |
|------|------------------------|--------------------------------------|
| **ì±„ë„ ìˆ˜** | 60ê°œ | 6ê°œ |
| **ìƒ˜í”Œë§ ì†ë„** | 30.3kHz | **100kHz** |
| **ì´ Raw ìƒ˜í”Œ** | 303,000ê°œ | **1,000,000ê°œ** |
| **ì••ì¶•** | âŒ ì—†ìŒ | âœ… 100:1 í‰ê·  |
| **ìµœì¢… ìƒ˜í”Œ** | 303,000ê°œ | **10,000ê°œ** |
| **Voltage Range** | Â±100mV | Â±100mV (ë™ì¼) |
| **Terminal Config** | DIFFERENTIAL (í´ë°±: RSE) | DIFF (í´ë°±: DEFAULTâ†’NRSEâ†’RSE) |
| **ë°ì´í„° í¬ê¸°** | **ë§¤ìš° í¼** (303k Ã— 60ch) | ì‘ìŒ (10k Ã— 6ch) |
| **ë…¸ì´ì¦ˆ ì œê±°** | âŒ ì—†ìŒ | âœ… 100ê°œ í‰ê· ìœ¼ë¡œ ì œê±° |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©** | **ë†’ìŒ** (~18M ìƒ˜í”Œ) | ë‚®ìŒ (~60k ìƒ˜í”Œ) |

## ğŸ”§ ì£¼ìš” ì°¨ì´ì  ìƒì„¸

### 1. **ì±„ë„ ìˆ˜ ì°¨ì´**

**ì œê³µ ì½”ë“œ:**
- 60ê°œ ì±„ë„ ë™ì‹œ ì¸¡ì • (ai0 ~ ai59)
- ëŒ€ê·œëª¨ ë©€í‹°ì±„ë„ ì‹œìŠ¤í…œ

**í˜„ì¬ êµ¬í˜„:**
- 6ê°œ ì±„ë„ (Phone app ê¸°ì¤€: ai0 ~ ai5)
- ì†Œê·œëª¨ íƒ€ê²Ÿ ì±„ë„

### 2. **ë°ì´í„° ì••ì¶• ì°¨ì´**

**ì œê³µ ì½”ë“œ:**
- âŒ ì••ì¶• ì—†ìŒ
- Raw ë°ì´í„° ê·¸ëŒ€ë¡œ ì €ì¥
- ì¥ì : ëª¨ë“  ì •ë³´ ë³´ì¡´
- ë‹¨ì : ë©”ëª¨ë¦¬ ì‚¬ìš© í¼, ì²˜ë¦¬ ì†ë„ ëŠë¦¼

**í˜„ì¬ êµ¬í˜„:**
- âœ… 100:1 ì••ì¶• (100ê°œ í‰ê· )
- ë…¸ì´ì¦ˆ ì œê±° íš¨ê³¼
- ì¥ì : ë©”ëª¨ë¦¬ íš¨ìœ¨, ë¹ ë¥¸ ì²˜ë¦¬
- ë‹¨ì : ê³ ì£¼íŒŒ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥

### 3. **ìƒ˜í”Œë§ ì†ë„**

**ì œê³µ ì½”ë“œ:**
- 30.3kHz (ìƒ˜í”Œë§ ì£¼ê¸° 33Î¼s)
- 10ì´ˆ â†’ 303,000 ìƒ˜í”Œ

**í˜„ì¬ êµ¬í˜„:**
- 100kHz (ìƒ˜í”Œë§ ì£¼ê¸° 10Î¼s)
- 10ì´ˆ â†’ 1,000,000 ìƒ˜í”Œ (Raw)
- ì••ì¶• í›„ â†’ 10,000 ìƒ˜í”Œ (1ms ê°„ê²©)

### 4. **Voltage Range**

**ê³µí†µì :**
- ë‘˜ ë‹¤ Â±100mV ì‚¬ìš©
- DIFFERENTIAL ëª¨ë“œ ìš°ì„ 

**ì°¨ì´ì :**
- ì œê³µ ì½”ë“œ: DIFFERENTIAL ì‹¤íŒ¨ ì‹œ RSE (Â±5V)ë¡œ í´ë°±
- í˜„ì¬ êµ¬í˜„: DIFF ì‹¤íŒ¨ ì‹œ DEFAULT â†’ NRSE â†’ RSE ìˆœì„œë¡œ í´ë°±

## ğŸ’¡ ì¥ë‹¨ì  ë¹„êµ

### ì œê³µ ì½”ë“œ (DAQReadNChanNSamp1DWfm)

**ì¥ì :**
- âœ… 60ì±„ë„ ëŒ€ê·œëª¨ ì¸¡ì • ê°€ëŠ¥
- âœ… Raw ë°ì´í„° ë³´ì¡´ (ëª¨ë“  ì •ë³´)
- âœ… Traditional NI-DAQ API í˜¸í™˜ êµ¬ì¡°
- âœ… ë‹¤ì¤‘ ì±„ë„ ì¸í„°ë¦¬ë¹™ ì²˜ë¦¬

**ë‹¨ì :**
- âŒ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í¼ (18M ìƒ˜í”Œ)
- âŒ ë…¸ì´ì¦ˆ ì œê±° ì—†ìŒ
- âŒ íŒŒì¼ í¬ê¸° í¼
- âŒ ì²˜ë¦¬ ì‹œê°„ ê¹€

### í˜„ì¬ êµ¬í˜„ (read_current_channels_hardware_timed)

**ì¥ì :**
- âœ… 100:1 ì••ì¶•ìœ¼ë¡œ ë…¸ì´ì¦ˆ ì œê±°
- âœ… ë©”ëª¨ë¦¬ íš¨ìœ¨ì  (60k ìƒ˜í”Œ)
- âœ… 1ms ê°„ê²©ìœ¼ë¡œ ê· ì¼í•œ ë°ì´í„°
- âœ… ë¹ ë¥¸ ì²˜ë¦¬ ì†ë„
- âœ… ì—‘ì…€ ì¶œë ¥ì— ìµœì í™”

**ë‹¨ì :**
- âŒ 6ì±„ë„ë¡œ ì œí•œ
- âŒ ê³ ì£¼íŒŒ ì •ë³´ ì†ì‹¤ ê°€ëŠ¥
- âŒ Raw ë°ì´í„° ë¯¸ë³´ì¡´

## ğŸ¯ ê¶Œì¥ì‚¬í•­

### í˜„ì¬ Phone App ì‹œë‚˜ë¦¬ì˜¤ì—ëŠ”:

**í˜„ì¬ êµ¬í˜„ì´ ë” ì í•©í•©ë‹ˆë‹¤!**

ì´ìœ :
1. âœ… 6ì±„ë„ë§Œ ì‚¬ìš© (ì¶©ë¶„)
2. âœ… 100:1 ì••ì¶•ìœ¼ë¡œ ë…¸ì´ì¦ˆ ì œê±° (ì „ë¥˜ ì¸¡ì •ì— ì¤‘ìš”)
3. âœ… 1ms ê°„ê²© ê· ì¼ ë°ì´í„° (ì—‘ì…€ ë¶„ì„ì— í¸ë¦¬)
4. âœ… ë©”ëª¨ë¦¬ íš¨ìœ¨ì  (10,000ê°œ vs 303,000ê°œ)

### ì œê³µëœ ì½”ë“œê°€ ìœ ìš©í•œ ê²½ìš°:

1. **60ì±„ë„ ëŒ€ê·œëª¨ ì¸¡ì •**ì´ í•„ìš”í•œ ê²½ìš°
2. **Raw ë°ì´í„° ë³´ì¡´**ì´ í•„ìˆ˜ì ì¸ ê²½ìš°
3. **í›„ì²˜ë¦¬ì—ì„œ ì••ì¶•**ì„ ì ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°
4. **Traditional NI-DAQ í˜¸í™˜**ì´ í•„ìš”í•œ ê²½ìš°

## ğŸ”„ í†µí•© ê°€ëŠ¥ì„±

ì œê³µëœ ì½”ë“œë¥¼ í˜„ì¬ ì‹œìŠ¤í…œì— í†µí•©í•˜ë ¤ë©´:

### ì˜µì…˜ 1: ë³„ë„ í•¨ìˆ˜ë¡œ ì¶”ê°€
```python
# ni_daq.pyì— ì¶”ê°€
def read_raw_multichannel(
    self, 
    channels: List[str], 
    sample_rate: float = 30000.0,
    duration_seconds: float = 10.0
) -> Optional[dict]:
    """Raw ë°ì´í„° ìˆ˜ì§‘ (ì••ì¶• ì—†ìŒ)"""
    # DAQReadNChanNSamp1DWfm ë¡œì§ ì ìš©
    ...
```

### ì˜µì…˜ 2: ì••ì¶• ì˜µì…˜ ì¶”ê°€
```python
def read_current_channels_hardware_timed(
    self,
    channels: List[str],
    sample_rate: float = 100000.0,
    compress_ratio: int = 100,  # 0ì´ë©´ ì••ì¶• ì•ˆ í•¨
    ...
):
    if compress_ratio == 0:
        # Raw ë°ì´í„° ë°˜í™˜ (ì••ì¶• ì—†ìŒ)
        return raw_data
    else:
        # ê¸°ì¡´ ì••ì¶• ë¡œì§
        return compressed_data
```

## ğŸ“ ê²°ë¡ 

- **í˜„ì¬ ì‹œìŠ¤í…œ**: 6ì±„ë„, 100kHz, 100:1 ì••ì¶• â†’ **Phone App ì‹œë‚˜ë¦¬ì˜¤ì— ìµœì í™”**
- **ì œê³µ ì½”ë“œ**: 60ì±„ë„, 30kHz, ì••ì¶• ì—†ìŒ â†’ **ëŒ€ê·œëª¨ ì‹œìŠ¤í…œìš©**

**ê¶Œì¥:** í˜„ì¬ êµ¬í˜„ ìœ ì§€ (Phone App ì‹œë‚˜ë¦¬ì˜¤ì— ì í•©)

**ì¶”ê°€ ê²€í† :** 60ì±„ë„ ì¸¡ì •ì´ë‚˜ Raw ë°ì´í„°ê°€ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì œê³µ ì½”ë“œ í†µí•© ê³ ë ¤
