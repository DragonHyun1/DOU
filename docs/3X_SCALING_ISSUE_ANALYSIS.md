# 3ë°° ìŠ¤ì¼€ì¼ë§ ì°¨ì´ ë¶„ì„

**ë‚ ì§œ:** 2025-11-10  
**ë°œê²¬:** ai3 ì±„ë„ì˜ ëª¨ë“  ê°’ì´ ì•½ 3ë°° ì°¨ì´

---

## ğŸ“Š ai3 ì±„ë„ ìƒì„¸ ë¹„êµ

### DoU (Auto Test)
```
ìƒ˜í”Œ ìˆ˜: 10,000ê°œ
Max:      86.72mA
Min:     -4.32538mA
Range:    91.04mA
í‰ê· :     6.533mA (ì´ì „ ë¡œê·¸)
```

### Manual
```
ìƒ˜í”Œ ìˆ˜: 10,000ê°œ
Max:      29.59mA
Min:     -1.513mA
Range:    31.10mA
í‰ê· :     ???mA (í™•ì¸ í•„ìš”)
```

### ë¹„ìœ¨ ë¶„ì„
```
Max:   86.72 / 29.59 = 2.93ë°° â‰ˆ 3ë°°
Min:  -4.33 / -1.51 = 2.87ë°° â‰ˆ 3ë°°
Range: 91.04 / 31.10 = 2.93ë°° â‰ˆ 3ë°°
```

**íŒ¨í„´:** ëª¨ë“  ê°’ì´ ì •í™•íˆ ì•½ 3ë°° ì°¨ì´! ğŸ¯

---

## ğŸ” í•µì‹¬ ë°œê²¬

### ì¼ì •í•œ ë¹„ìœ¨ = Gain/Scale ì°¨ì´

**ì´ê²ƒì€ ëœë¤í•œ ì°¨ì´ê°€ ì•„ë‹™ë‹ˆë‹¤!**
- Max, Min, Range ëª¨ë‘ ì •í™•íˆ 3ë°°
- ì´ê²ƒì€ **ê³±ì…ˆ íŒ©í„°(multiplicative factor)** ì°¨ì´ë¥¼ ì˜ë¯¸

**ê°€ëŠ¥í•œ ì›ì¸:**
1. ADC Gain ì„¤ì • ì°¨ì´
2. ì „ì•• Range ì„¤ì • ì°¨ì´
3. ìŠ¤ì¼€ì¼ë§/ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì°¨ì´
4. ë‹¨ìœ„ ë³€í™˜ ì°¨ì´

---

## ğŸ’¡ ê°€ëŠ¥í•œ ì›ì¸ë“¤

### ì›ì¸ 1: ì „ì•• Range ì„¤ì • ì°¨ì´ â­â­â­

**DoU ì„¤ì •:**
```python
# DEFAULT mode (Â±5V range)
task.ai_channels.add_ai_voltage_chan(
    channel_name,
    terminal_config=TerminalConfiguration.DEFAULT,
    min_val=-5.0,  # Â±5V
    max_val=5.0,
    units=VoltageUnits.VOLTS
)
```

**Manual ì„¤ì •:**
```
Range: ???V
ë§Œì•½ Â±1.67Vë¼ë©´:
  5V / 1.67V = 2.99ë°° â‰ˆ 3ë°°!
```

**ì„¤ëª…:**
- ë” ë„“ì€ range = ë” ë‚®ì€ í•´ìƒë„
- í•˜ì§€ë§Œ ìŠ¤ì¼€ì¼ë§ì´ ì˜ëª»ë˜ë©´ ê°’ì´ ì¦í­ë¨

### ì›ì¸ 2: ADC Gain ì°¨ì´ â­â­â­

**USB-6289 Gain ì„¤ì •:**
```
Gain 1: Â±10V range
Gain 2: Â±5V range
Gain 5: Â±2V range
Gain 10: Â±1V range
Gain 20: Â±0.5V range
```

**ë§Œì•½:**
- DoU: Gain 2 (Â±5V range)
- Manual: Gain 5 (Â±2V range)
- ì°¨ì´: 5V / 2V = 2.5ë°°

ë˜ëŠ”:
- DoU: Gain 1 (Â±10V range)  
- Manual: Gain 3.33 (Â±3V range)
- ì°¨ì´: 10V / 3.33V = 3ë°°!

### ì›ì¸ 3: ì••ì¶•/í•„í„°ë§ ì•Œê³ ë¦¬ì¦˜ ì°¨ì´ â­â­

**DoU ì••ì¶• (30:1):**
```python
# ë‹¨ìˆœ í‰ê· 
def _compress_data(data, compress_ratio=30):
    for i in range(0, len(data), compress_ratio):
        group = data[i:i+compress_ratio]
        avg_value = sum(group) / len(group)  # ì‚°ìˆ  í‰ê· 
        compressed.append(avg_value)
```

**Manual ì••ì¶•:**
```
ê°€ëŠ¥ì„± 1: Median í•„í„°
  - ì´ìƒì¹˜ ì œê±°
  - íŠ€ëŠ” ê°’ ê°ì†Œ
  
ê°€ëŠ¥ì„± 2: Moving Average (ë” í° window)
  - 90:1 ì••ì¶• (30 Ã— 3 = 90)
  - ë” ë¶€ë“œëŸ¬ìš´ ê²°ê³¼

ê°€ëŠ¥ì„± 3: RMS (Root Mean Square)
  - sqrt(mean(x^2))
  - ë‹¤ë¥¸ ìŠ¤ì¼€ì¼
```

### ì›ì¸ 4: Raw ìƒ˜í”Œë§ ë ˆì´íŠ¸ ì°¨ì´ â­â­

**DoU:**
```
30kHz Ã— 10ì´ˆ = 300,000 ìƒ˜í”Œ
30:1 ì••ì¶• â†’ 10,000 ìƒ˜í”Œ
```

**Manual:**
```
10kHz Ã— 10ì´ˆ = 100,000 ìƒ˜í”Œ?
10:1 ì••ì¶• â†’ 10,000 ìƒ˜í”Œ?

ë˜ëŠ”
30kHz Ã— 10ì´ˆ = 300,000 ìƒ˜í”Œ
30:1 ì••ì¶• â†’ 10,000 ìƒ˜í”Œ (ë™ì¼)
```

**ì°¨ì´:**
- ìƒ˜í”Œë§ ë ˆì´íŠ¸ê°€ ë‹¤ë¥´ë©´ ì¸¡ì •ë˜ëŠ” ìˆœê°„ì´ ë‹¤ë¦„
- ë¹ ë¥¸ ìŠ¤íŒŒì´í¬ë¥¼ ì¡ì„ ìˆ˜ë„, ë†“ì¹  ìˆ˜ë„ ìˆìŒ

### ì›ì¸ 5: ìº˜ë¦¬ë¸Œë ˆì´ì…˜ íŒ©í„° â­

**DoU:**
```python
# ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì—†ìŒ
current = voltage / shunt_r
```

**Manual:**
```
# ìº˜ë¦¬ë¸Œë ˆì´ì…˜ íŒ©í„° ì ìš©?
current = (voltage / shunt_r) * calibration_factor
ë§Œì•½ calibration_factor = 0.333ì´ë©´ â†’ 1/3ë°°
```

---

## ğŸ§ª ì§„ë‹¨ ë°©ë²•

### í…ŒìŠ¤íŠ¸ 1: Manualì˜ í‰ê· ê°’ í™•ì¸

**Manualì˜ ai3 í‰ê· ì´ ì¤‘ìš”í•©ë‹ˆë‹¤:**
```
DoU í‰ê· : 6.533mA
Manual í‰ê· : ???mA

ë§Œì•½ Manualì´ 2.18mAë¼ë©´:
  6.533 / 2.18 = 3ë°° âœ“
  â†’ ëª¨ë“  ê°’ì´ 3ë°° ì°¨ì´ í™•ì¸!

ë§Œì•½ Manualë„ 6.5mAë¼ë©´:
  â†’ í‰ê· ì€ ê°™ì€ë° Max/Minë§Œ ì°¨ì´
  â†’ í•„í„°ë§/ì••ì¶• ë°©ì‹ ì°¨ì´
```

### í…ŒìŠ¤íŠ¸ 2: Manualì˜ Voltage Range í™•ì¸

**Manual íˆ´ ì„¤ì •ì—ì„œ:**
```
Voltage Range: ???V
  -5V ~ +5V? (DoUì™€ ë™ì¼)
  -2V ~ +2V? (DoUì˜ 1/2.5)
  -1.67V ~ +1.67V? (DoUì˜ 1/3)
```

### í…ŒìŠ¤íŠ¸ 3: Raw ì „ì•• ë¹„êµ

**ai3 ì±„ë„ì˜ raw ì „ì•• í™•ì¸:**
```
DoU í‰ê·  ì „ì••:    0.033mV (ë¡œê·¸ì—ì„œ)
Manual í‰ê·  ì „ì••: ???mV

ë§Œì•½ Manualì´ 0.011mVë¼ë©´:
  0.033 / 0.011 = 3ë°°
  â†’ ì „ì•• ì¸¡ì •ë¶€í„° 3ë°° ì°¨ì´!
```

### í…ŒìŠ¤íŠ¸ 4: ì••ì¶• ì „ Raw ë°ì´í„° ë¹„êµ

**DoUì˜ 300,000ê°œ raw ìƒ˜í”Œ:**
```
ì••ì¶• ì „ Max: ???mA
ì••ì¶• ì „ Min: ???mA
```

**Manualì˜ raw ìƒ˜í”Œ:**
```
ì••ì¶• ì „ ìƒ˜í”Œ ìˆ˜: ???ê°œ
ì••ì¶• ì „ Max: ???mA
ì••ì¶• ì „ Min: ???mA
```

---

## ğŸ’¡ ê°€ì¥ ê°€ëŠ¥ì„± ë†’ì€ ì›ì¸

### ì‹œë‚˜ë¦¬ì˜¤ A: Voltage Range 3ë°° ì°¨ì´

**DoU: Â±5V, Manual: Â±1.67V**
```
ê°™ì€ ADC ì¹´ìš´íŠ¸ì— ëŒ€í•´:
  DoU:    5V / 32768 = 0.153mV per count
  Manual: 1.67V / 32768 = 0.051mV per count
  
ë§Œì•½ ìŠ¤ì¼€ì¼ë§ì´ ì˜ëª»ë˜ë©´:
  DoUê°€ Manualì˜ 3ë°° ê°’ìœ¼ë¡œ ì½í˜
```

### ì‹œë‚˜ë¦¬ì˜¤ B: ì••ì¶• ì•Œê³ ë¦¬ì¦˜ ì°¨ì´

**DoU: 30:1 ì‚°ìˆ  í‰ê· **
```
Max/Minì´ ê·¸ëŒ€ë¡œ ë³´ì¡´ë¨ (ë˜ëŠ” ì•½ê°„ ê°ì†Œ)
Peak: 86.72mA
```

**Manual: 90:1 í‰ê·  ë˜ëŠ” Median í•„í„°**
```
ì´ìƒì¹˜ê°€ ë§ì´ ì œê±°ë¨
Peak: 29.59mA (1/3ë¡œ ê°ì†Œ)
```

### ì‹œë‚˜ë¦¬ì˜¤ C: ADC Gain ì°¨ì´

**DoUì™€ Manualì˜ Gain ì„¤ì •ì´ ë‹¤ë¦„**
```
Gainì´ 3ë°° ì°¨ì´ë‚˜ë©´:
  ì¸¡ì •ê°’ë„ 3ë°° ì°¨ì´
```

---

## ğŸ”§ í•´ê²° ë°©ë²•

### ë°©ë²• 1: Voltage Range í†µì¼

**DoUë¥¼ Manualê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •:**

```python
# í˜„ì¬ DoU
min_val=-5.0, max_val=5.0  # Â±5V

# Manualì´ Â±1.67Vë¼ë©´
min_val=-1.67, max_val=1.67  # Â±1.67V

# Manualì´ Â±2Vë¼ë©´
min_val=-2.0, max_val=2.0  # Â±2V
```

### ë°©ë²• 2: ìŠ¤ì¼€ì¼ íŒ©í„° ì ìš©

**ì„ì‹œ í•´ê²°ì±…:**

```python
# DoU ê²°ê³¼ì— 1/3 ê³±í•˜ê¸°
current_corrected = current_measured / 3.0

# ai3 ì˜ˆì‹œ
6.533mA / 3 = 2.18mA (Manualê³¼ ë¹„ìŠ·?)
```

### ë°©ë²• 3: ì••ì¶• ì•Œê³ ë¦¬ì¦˜ ë³€ê²½

**Manualì´ ë” aggressiveí•œ í•„í„°ë§ì„ ì‚¬ìš©í•œë‹¤ë©´:**

```python
# Median í•„í„° ì ìš©
def compress_with_median(data, compress_ratio):
    compressed = []
    for i in range(0, len(data), compress_ratio):
        group = data[i:i+compress_ratio]
        median_value = median(group)  # ì´ìƒì¹˜ ì œê±°
        compressed.append(median_value)
    return compressed

# ë˜ëŠ” ë” í° ì••ì¶•ë¹„
compress_ratio = 90  # 30 ëŒ€ì‹  90
```

---

## ğŸ“‹ ì¦‰ì‹œ í™•ì¸ í•„ìš” ì‚¬í•­

### ìš°ì„ ìˆœìœ„ 1: Manual í‰ê· ê°’ â­â­â­

**Manualì˜ ai3 í‰ê·  ì „ë¥˜:**
```
ai3 í‰ê· : ???mA (DoU: 6.533mA)

ë§Œì•½ 2.18mAë¼ë©´ â†’ ì •í™•íˆ 3ë°° ì°¨ì´ í™•ì¸
ë§Œì•½ 6.5mAë¼ë©´ â†’ í‰ê· ì€ ê°™ê³  peakë§Œ ì°¨ì´ (í•„í„°ë§ ë¬¸ì œ)
```

### ìš°ì„ ìˆœìœ„ 2: Manual Voltage Range â­â­â­

**Manual íˆ´ ì„¤ì •:**
```
Voltage Range: ???V ~ ???V
```

### ìš°ì„ ìˆœìœ„ 3: Manual Raw ì „ì•• â­â­

**ai3ì˜ ì¸¡ì • ì „ì••:**
```
DoU:    0.033mV (í‰ê· )
Manual: ???mV (í‰ê· )

ë¹„ìœ¨: 0.033 / Manual = ???
```

### ìš°ì„ ìˆœìœ„ 4: ì „ì²´ ì±„ë„ ë¹„êµ â­

**ë‹¤ë¥¸ ì±„ë„ë„ 3ë°° ì°¨ì´ì¸ê°€?**
```
ai0: DoU -0.337mA vs Manual ???mA
ai1: DoU 0.789mA vs Manual ???mA
ai2: DoU -1.786mA vs Manual ???mA
ai4: DoU 0.337mA vs Manual ???mA
ai5: DoU 2.984mA vs Manual ???mA

ëª¨ë‘ 3ë°° ì°¨ì´ë©´ â†’ Gain/Range ë¬¸ì œ
íŠ¹ì • ì±„ë„ë§Œ ë‹¤ë¥´ë©´ â†’ ì±„ë„ë³„ ì„¤ì • ë¬¸ì œ
```

---

## ğŸ¯ ì˜ˆìƒ ê²°ê³¼

### ë§Œì•½ ì „ì²´ê°€ 3ë°° ì°¨ì´ë¼ë©´

**DoU ì´í•©: 14.4mA**
```
14.4mA / 3 = 4.8mA

í•˜ì§€ë§Œ Manualì€ 2.5mA...
ì—¬ì „íˆ ì°¨ì´ ìˆìŒ (ìŒìˆ˜ ì²˜ë¦¬?)
```

**ìˆ˜ì • í›„:**
```
ëª¨ë“  ê°’ì— 1/3 ê³±í•˜ê¸°
ë˜ëŠ” Voltage Rangeë¥¼ 1/3ë¡œ ì¤„ì´ê¸°

ai0: -0.337 / 3 = -0.112mA
ai1: 0.789 / 3 = 0.263mA
ai2: -1.786 / 3 = -0.595mA
ai3: 6.533 / 3 = 2.178mA
ai4: 0.337 / 3 = 0.112mA
ai5: 2.984 / 3 = 0.995mA

ì´í•© (ì ˆëŒ€ê°’): 4.255mA
ì´í•© (ë¶€í˜¸ ê³ ë ¤): 2.841mA â‰ˆ 2.5mA? âœ“
```

---

## ğŸ“ ìš”ì•½

**ë°œê²¬:**
- ai3ì˜ Max, Min, Range ëª¨ë‘ ì •í™•íˆ 3ë°° ì°¨ì´
- ì´ê²ƒì€ systematicí•œ scale ì°¨ì´

**ê°€ëŠ¥í•œ ì›ì¸:**
1. â­â­â­ Voltage Range ì°¨ì´ (Â±5V vs Â±1.67V)
2. â­â­â­ ADC Gain ì°¨ì´
3. â­â­ ì••ì¶• ì•Œê³ ë¦¬ì¦˜ ì°¨ì´
4. â­ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ íŒ©í„°

**ì¦‰ì‹œ í™•ì¸ í•„ìš”:**
1. Manualì˜ ai3 í‰ê· ê°’
2. Manualì˜ Voltage Range ì„¤ì •
3. Manualì˜ raw ì „ì••ê°’
4. ë‹¤ë¥¸ ì±„ë„ë“¤ë„ 3ë°° ì°¨ì´ì¸ì§€

**ì´ ì •ë³´ë¡œ ì •í™•í•œ ì›ì¸ì„ ì°¾ì•„ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤!** ğŸ”
